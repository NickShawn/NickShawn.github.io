---
layout:     post
title:      假设检验的逻辑
subtitle:   只有逻辑，没有数学，文科生亦适用
date:       2018-04-06
author:     NickShawn
header-img: img/post-bg-re-vs-ng2.jpg
catalog: true
tags:
    - 学习
---

>这篇博文整理于我在知乎上的回答：[假设检验的逻辑是什么？](https://www.zhihu.com/question/20254932/answer/360308152)

>我主要从一下三个方面进行论述：
>* 假设证明难而证伪易（假设检验的产生）；
>* 小概率事件不会发生（假设检验的方法）；
>* 不要轻易拒绝原假设（假设检验的鲁棒）。

***

## 假设证明难而证伪易
首先我们要解决的问题是，假设检验是如何产生的，也就是为什么需要假设检验，我们如何应用假设检验。（PS:主要思想参
考于[@慕容飞宇](https://www.zhihu.com/people/jflycn/activities)）

假设检验的基本逻辑是基于科学哲学的一个重要论点：<b>全称命题只能被证否而不能被证明</b>。

对这种思想进一步的拓展，我们可以简单的认为，对于一般意义的假设，通常很难被直接证明，因为证明一个假设要考虑各种可能的情形；
但如果我们要证伪一个假设，只要找到一个反例即可。所有，就得到了我们的要点：`假设证明难而证伪易`。这其实和我们高中乃至大学时数学中的反证法是一致的。

而在正常的工作、科研流程中，我们通常面对的问题却是：根据实验观察或实际需要，得到一个假设，再进行有效证明。
而为了证明这样一个假设，我们可以设置一对互补的假设：<b>原假设（null hypothesis）</b>和<b>备择假设(alternative hypothesis)</b>。
备择假设就是我们需要证明的假设，原假设就是与备择假设相反的假设，需要被我们证伪（或者说拒绝）。
一旦我们拒绝了原假设，就意味着我们可以接受与之相反的备择假设，从而间接证明了我们期望正确的假设。

## 小概率事件不会发生
既然要证伪一个假设，这里就要讨论一下方法。

上文说到，我们在证伪一个假设的时候，可以通过找反例来达到目的。然而，这么想还是too young too simple。
事实上，反例也不是那么好找的，更重要的是在通过实验获取数据过程中，我们是以一定的概率从总体中进行随机采样（分层采样也是从各个层面进行随机采样），
甚至可能引入噪声，所以单纯的根据采样的统计结果来直接进行评判是非常不妥的。

那要如何来进行证伪呢？

这就要涉及到概率论中的一个常识：<b>个案中小概率事件不会发生</b>。

所以我们的统计结果，不仅要与假设相左，而且需要在假设为真时是一个小概率事件，我们通过下图中的单边检验来解释：

完全非数学的解释：图中的分布为假设检验的使用的先验分布。根据原假设，我们可以得到假设正确时对应的正确域；
由于采样带来误差，所有我们可以根据设定的概率值（也就是<b>显著度</b>）将错误域分割为大概率错误域和小概率错误域（<b>拒绝域</b>），
小概率错误域对应个的概率值就是显著度。
因此，如果采样统计的结果落在小概率错误域中的话，那在原假设为真的前提下，真实的采样操作发生了小概率错误；
又因为我们认为小概率事件不会发生，所以我们认为采样统计的结果没有问题，而是原假设错误，所以我们可以拒绝原假设，从而接受备择假设。

## 不要轻易拒绝原假设
科学的严谨，需要我们谨慎的去证伪，尤其是在根据概率进行评判的时候。这一点其实在上一节中以及涉及了，但为了强调，故而再分列出来进行说明。
上一节中说了，由于采样得到的样本并不能完美的表达总体，而且采样过程中必然会引入噪声，所以我们不能单纯的根据样本的统计结果是否满足原假设来进行判断，
而应给予一定的包容度（允许样本统计结果出错的程度）。
而为了严谨，为了避免因为采样的失误而拒绝原假设，我们通常将这个包容度放到很大，相对的，我们把用来拒绝原假设的错误域设定为足够小，
小到我们可以认为不会发生这样的错误。因此通常选定的显著度为0.05、0.01、0.005，就是为了不轻易拒绝原假设。

***
多嘴几句，根据设定的显著度，我们可以用两种方式去检验假设：

1. 根据显著度和分布找到小概率对应的临界值，然后和由样本计算得到的值进行比较，判定是否越过了临界值，进入了小概率错误域（拒绝域）；

2. 由样本计算得到的值，进一步在先验分布中找到对应的概率值（p值，即原假设为真时发生的概率），将p值与显著度σ（设定的小概率判定值）进行比较，
如果比显著度小，则发生的概率比小概率判定值还小，认为不可能发生，故而拒绝原假设。

再闲话一下显著度σ，根据前文的分析，显著度可以理解为原假设为真时，判定采样统计结果出现小概率错误的一个临界概率值。
因此，仍旧有一定的概率原假设为真却被我们拒绝了，这个概率就是显著度σ，
相对的，（1-σ）就是采取的决策（拒绝原假设接受备择假设）的置信度，即可以表示备择假设的可信程度。
